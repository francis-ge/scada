<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
 	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title></title>
    
	<!-- easyUI -->
	<link href="../jquery-easyui-1.4.4/themes/bootstrap/easyui.css" rel="stylesheet">
	<link href="../jquery-easyui-1.4.4/themes/icon.css" rel="stylesheet">
	
	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) --> 
	<script src="../jquery-easyui-1.4.4/jquery.min.js" charset="utf-8"></script>
	
	<!-- easyUI -->
	<script src="../jquery-easyui-1.4.4/jquery.easyui.min.js" charset="utf-8"></script>
	<script src="../jquery-easyui-1.4.4/locale/easyui-lang-zh_CN.js" charset="utf-8"></script>
	
	<style type="text/css">
		* {margin: 0; padding: 0;}
	</style>
	<script type="text/javascript">
		$(function(){
			$('#datagrid').datagrid({
				columns:[[    
				          { field:'fun',
				        	title:'风机名称',
				        	width:150,
				        	formatter:function(value,row,index){
				        		return value.name;
				        		}
				          },    
				          {	field:'___main_loop_mode_number',
				        	title:'风机模式',
				        	width:150,
				        	formatter:function(value,row,index){
					        		switch(value){
					        		case 0:
					        			return '初始化';
					        		case 1:
					        			return '停机';
					        		case 2:
					        			return '待机';
					        		case 3:
					        			return '启动';
					        		case 4:
					        			return '运行';
					        		case 5:
					        			return '并网';
					        		case 9:
					        			return '维护';
					        		case 10:
					        			return '通信断开';
					        		default:
					        			return '未知状态';
				        			}
				        		},
			        		styler: function(value,row,index){
			        			switch (value){
			        			case 1:
			        				return 'background-color:#FF0000;';
			        			case 2:
			        				return 'background-color:#FFCC00;';
			        			case 3:
			        				return 'background-color:#66FF00;';
			        			case 4:
			        				return 'background-color:#66FF00;';
			        			case 5:
			        				return 'background-color:#66FF00;';
			        			case 9:
			        				return 'background-color:#9900FF;';
			        			case 10:
			    					return 'background-color:#0066FF;';
			        			default:
			        				return 'background-color:#FFFFFF;';
			    				}
			    			}

				        	},    
				          {field:'dateTime',title:'时间',width:150},    
				          {field:'___wind_speed',title:'风速',width:150},    
				          {field:'_MAIN__BOOLTEST1',title:'booltest1',width:150},    
				          {field:'_MAIN__SINGLETEST1',title:'singleTest1',width:150},    
				          {field:'_MAIN__DOUBLETEST1',title:'doubleTest1',width:150},    
				          {field:'_MAIN__LONGTEST1',title:'longTest1',width:150},       
				          {field:'power',title:'功率',width:150},    
				          {field:'error',title:'故障',width:150},    
				          {field:'warning',title:'警告',width:150},    
				          {field:'windDirection',title:'风向',width:150},    
				          {field:'dayOutput',title:'日发电量',width:150},    
				          {field:'output',title:'总发电量',width:150},    
				      ]]
		
			});
			
			setInterval(function(){
		    	$('#datagrid').datagrid('load')}, 
		    	1000 
			);
		})
	</script>
</head>
<body>
	<table id ="datagrid" class="easyui-datagrid" url="SHARPOWER_SCADA/ajaxMainInfo"
		idField="id" singleSelect="true" fit="true" fitColumns="true" striped="true" loadMsg="">
	</table>
</body>
</html>